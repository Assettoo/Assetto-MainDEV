{"ast":null,"code":"var _jsxFileName = \"/Users/pranjilpathak/Downloads/Asseto/src/components/CreateModal.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { lazy, Suspense, useCallback, useEffect, useRef } from \"react\";\nimport Loader from \"../assets/loading.svg\";\nimport { saveAs } from \"file-saver\";\nimport PageLoader from \"./PageLoader\";\nimport \"../styles/certificate-modal.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Certificate = /*#__PURE__*/lazy(_c = () => import(\"./Certificate\"));\n_c2 = Certificate;\n\nconst Modal = _ref => {\n  _s();\n\n  let {\n    modalData: {\n      mode,\n      data,\n      receipt\n    },\n    setModalData\n  } = _ref;\n  const modalRef = useRef();\n  const handleClickOutside = useCallback(e => {\n    if (mode === \"display\") {\n      var _modalRef$current;\n\n      console.log(\"click\");\n\n      if (!((_modalRef$current = modalRef.current) === null || _modalRef$current === void 0 ? void 0 : _modalRef$current.contains(e.target))) {\n        setModalData({\n          mode: \"closed\"\n        });\n      }\n    } else {}\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [mode]);\n  useEffect(() => {\n    document.addEventListener(\"click\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"click\", handleClickOutside);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [mode]);\n\n  const createReceipt = () => {\n    const obj = {\n      transactionHash: receipt === null || receipt === void 0 ? void 0 : receipt.transactionHash,\n      ipfsHash: data === null || data === void 0 ? void 0 : data.ipfsHash,\n      certkey: data === null || data === void 0 ? void 0 : data.certkey,\n      shareableLink: `https://626face37b18fe0f65a8ed2f--chimerical-stardust-70ccd0.netlify.app/verify/?ipfsHash=${data === null || data === void 0 ? void 0 : data.ipfsHash}&certkey=${data === null || data === void 0 ? void 0 : data.certkey}`\n    };\n    const blob = new Blob([JSON.stringify(obj, null, \"\\t\")], {\n      type: \"application/json\"\n    });\n    saveAs(blob, `certify-${data === null || data === void 0 ? void 0 : data.ipfsHash}`);\n  };\n\n  return mode === \"display\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"inner\",\n      ref: modalRef,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"success\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Success! Receipt Certificate Created with Encrypted Hash Key : \", data === null || data === void 0 ? void 0 : data.certkey, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: createReceipt,\n              children: \"Download a Receipt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n          fallback: /*#__PURE__*/_jsxDEV(PageLoader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 26\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(Certificate, {\n            ipfsHash: data === null || data === void 0 ? void 0 : data.ipfsHash,\n            certkey: data === null || data === void 0 ? void 0 : data.certkey\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 3\n  }, this) : mode === \"loading\" ? /*#__PURE__*/_jsxDEV(Loading, {\n    modalRef: modalRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 3\n  }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n};\n\n_s(Modal, \"rPEPB0BasbbwKyMUD8XxSY7ExfM=\");\n\n_c3 = Modal;\n\nconst Loading = () => {\n  _s2();\n\n  useEffect(() => {\n    window.onbeforeunload = confirmExit;\n\n    function confirmExit() {\n      return \"Warning\";\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading inner\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: Loader,\n        alt: \"loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Processing Transaction! Please Do not close this tab.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 3\n  }, this);\n};\n\n_s2(Loading, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c4 = Loading;\nexport default Modal;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Certificate$lazy\");\n$RefreshReg$(_c2, \"Certificate\");\n$RefreshReg$(_c3, \"Modal\");\n$RefreshReg$(_c4, \"Loading\");","map":{"version":3,"sources":["/Users/pranjilpathak/Downloads/Asseto/src/components/CreateModal.jsx"],"names":["lazy","Suspense","useCallback","useEffect","useRef","saveAs","PageLoader","Certificate","Modal","modalData","mode","data","receipt","setModalData","modalRef","handleClickOutside","e","console","log","current","contains","target","document","addEventListener","removeEventListener","createReceipt","obj","transactionHash","ipfsHash","certkey","shareableLink","blob","Blob","JSON","stringify","type","Loading","window","onbeforeunload","confirmExit","Loader"],"mappings":"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","sourcesContent":["import { lazy, Suspense, useCallback, useEffect, useRef } from \"react\";\n\nimport Loader from \"../assets/loading.svg\";\nimport { saveAs } from \"file-saver\";\nimport PageLoader from \"./PageLoader\";\nimport \"../styles/certificate-modal.scss\";\n\nconst Certificate = lazy(() => import(\"./Certificate\"));\n\nconst Modal = ({ modalData: { mode, data, receipt }, setModalData }) => {\n\tconst modalRef = useRef();\n\n\tconst handleClickOutside = useCallback(\n\t\t(e) => {\n\t\t\tif (mode === \"display\") {\n\t\t\t\tconsole.log(\"click\");\n\t\t\t\tif (!modalRef.current?.contains(e.target)) {\n\t\t\t\t\tsetModalData({ mode: \"closed\" });\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t}\n\t\t},\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\t[mode]\n\t);\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener(\"click\", handleClickOutside);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(\"click\", handleClickOutside);\n\t\t};\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [mode]);\n\n\tconst createReceipt = () => {\n\t\tconst obj = {\n\t\t\ttransactionHash: receipt?.transactionHash,\n\t\t\tipfsHash: data?.ipfsHash,\n\t\t\tcertkey: data?.certkey,\n\t\t\tshareableLink: `https://626face37b18fe0f65a8ed2f--chimerical-stardust-70ccd0.netlify.app/verify/?ipfsHash=${data?.ipfsHash}&certkey=${data?.certkey}`,\n\t\t};\n\t\tconst blob = new Blob([JSON.stringify(obj, null, \"\\t\")], {\n\t\t\ttype: \"application/json\",\n\t\t});\n\t\tsaveAs(blob, `certify-${data?.ipfsHash}`);\n\t};\n\n\treturn mode === \"display\" ? (\n\t\t<div className=\"modal\">\n\t\t\t<div className=\"inner\" ref={modalRef}>\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\t<div className=\"success\">\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\tSuccess! Receipt Certificate Created with Encrypted Hash Key : {data?.certkey}{\" \"}\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<button onClick={createReceipt}>Download a Receipt</button>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</div>\n\t\t\t\t\t<Suspense fallback={<PageLoader />}>\n\t\t\t\t\t\t<Certificate ipfsHash={data?.ipfsHash} certkey={data?.certkey} />\n\t\t\t\t\t</Suspense>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t) : mode === \"loading\" ? (\n\t\t<Loading modalRef={modalRef} />\n\t) : (\n\t\t<></>\n\t);\n};\n\nconst Loading = () => {\n\tuseEffect(() => {\n\t\twindow.onbeforeunload = confirmExit;\n\t\tfunction confirmExit() {\n\t\t\treturn \"Warning\";\n\t\t}\n\t}, []);\n\treturn (\n\t\t<div className=\"modal\">\n\t\t\t<div className=\"loading inner\">\n\t\t\t\t<img src={Loader} alt=\"loading\" />\n\t\t\t\t<br />\n\t\t\t\t<h3>Processing Transaction! Please Do not close this tab.</h3>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Modal;\n"]},"metadata":{},"sourceType":"module"}