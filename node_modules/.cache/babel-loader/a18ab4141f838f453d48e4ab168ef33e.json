{"ast":null,"code":"var _jsxFileName = \"/Users/pranjilpathak/Downloads/certifier.-main/src/components/Certificate.jsx\",\n    _s = $RefreshSig$();\n\nimport { Suspense, useContext } from \"react\";\nimport QRCode from \"react-qr-code\";\nimport { Web3Context } from \"../context/Web3Context\";\nimport fetchCertData from \"../utils/fetchCertData\";\nimport ComponentLoader from \"./ComponentLoader\";\nimport PageLoader from \"./PageLoader\";\nimport Verified from \"../assets/verified.svg\";\nimport Revoked from \"../assets/revoked.svg\";\nimport Expired from \"../assets/expired.svg\";\nimport \"../styles/certificate.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Certificate = _ref => {\n  _s();\n\n  let {\n    ipfsHash,\n    certkey\n  } = _ref;\n  const {\n    contract\n  } = useContext(Web3Context);\n  const resource = fetchCertData(ipfsHash, certkey, contract);\n  const link = `https://certify-v1.netlify.app/verify/?ipfsHash=${ipfsHash}&certkey=${certkey}`;\n  return /*#__PURE__*/_jsxDEV(Suspense, {\n    fallback: /*#__PURE__*/_jsxDEV(PageLoader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 23\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"certificate\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u04C1 Certificate \\u04C1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n        fallback: /*#__PURE__*/_jsxDEV(ComponentLoader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 25\n        }, this),\n        children: [/*#__PURE__*/_jsxDEV(Fields, {\n          resource: resource\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Info, {\n          resource: resource,\n          link: link\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          width: \"50%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"foot-link\",\n          href: link,\n          children: link\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Certificate, \"mtfHiNFsqWVu9cdrw9uOgczX5Bs=\");\n\n_c = Certificate;\n\nconst Fields = _ref2 => {\n  let {\n    resource\n  } = _ref2;\n  const data = resource.read();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fields\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\"This certificate is presented to\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"field\",\n        id: \"name\",\n        children: data === null || data === void 0 ? void 0 : data.BeneficiaryName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 5\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"For\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"field\",\n      children: data === null || data === void 0 ? void 0 : data.CertificateDescription\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"By\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"field\",\n      children: data === null || data === void 0 ? void 0 : data.InstituteAuthorityName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 3\n  }, this);\n};\n\n_c2 = Fields;\nconst statusData = {\n  Verified: {\n    svg: Verified,\n    msg: \"Verified\"\n  },\n  Revoked: {\n    svg: Revoked,\n    msg: \"Validity Revoked By Owner\"\n  },\n  Expired: {\n    svg: Expired,\n    msg: \"Validity Expired\"\n  }\n};\n\nconst Info = _ref3 => {\n  let {\n    resource,\n    link\n  } = _ref3;\n  const data = resource.read();\n  const status = (data === null || data === void 0 ? void 0 : data.validtill) === \"0\" || Date.now() < Number(data === null || data === void 0 ? void 0 : data.validtill) * 1000 ? \"Verified\" : (data === null || data === void 0 ? void 0 : data.validtill) === \"1\" ? \"Revoked\" : \"Expired\";\n  console.log(data);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"info\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tx-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Additional Information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cols\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"field\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"label\",\n              children: \"Expires on : \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: (data === null || data === void 0 ? void 0 : data.validtill) === \"0\" ? \"No Expiry\" : new Date(Number(data === null || data === void 0 ? void 0 : data.validtill) * 1000).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"field\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"label\",\n              children: \"Note : \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\" \", data === null || data === void 0 ? void 0 : data.AdditionalNotes]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"field\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"label\",\n              children: \"Issuers Address : \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: data === null || data === void 0 ? void 0 : data.issuer\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"field\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"label\",\n              children: \"Created On : \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: new Date(Number(data === null || data === void 0 ? void 0 : data.issuetime) * 1000).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 8\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"field\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"label\",\n              children: \"IPFS Hash : \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: data === null || data === void 0 ? void 0 : data.ipfs\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Certificate Status\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: statusData[status].svg,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"label\",\n          children: statusData[status].msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Scan to share\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"share\",\n        children: /*#__PURE__*/_jsxDEV(QRCode, {\n          value: link,\n          size: 100,\n          bgColor: \"#fdfaf7\",\n          fgColor: \"#4c4c4c\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 3\n  }, this);\n};\n\n_c3 = Info;\nexport default Certificate;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Certificate\");\n$RefreshReg$(_c2, \"Fields\");\n$RefreshReg$(_c3, \"Info\");","map":{"version":3,"sources":["/Users/pranjilpathak/Downloads/certifier.-main/src/components/Certificate.jsx"],"names":["Suspense","useContext","QRCode","Web3Context","fetchCertData","ComponentLoader","PageLoader","Certificate","ipfsHash","certkey","contract","resource","link","Fields","data","read","BeneficiaryName","CertificateDescription","InstituteAuthorityName","statusData","Verified","svg","msg","Revoked","Expired","Info","status","validtill","Date","now","Number","console","log","toLocaleDateString","AdditionalNotes","issuer","issuetime","ipfs"],"mappings":"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","sourcesContent":["import { Suspense, useContext } from \"react\";\nimport QRCode from \"react-qr-code\";\nimport { Web3Context } from \"../context/Web3Context\";\nimport fetchCertData from \"../utils/fetchCertData\";\nimport ComponentLoader from \"./ComponentLoader\";\nimport PageLoader from \"./PageLoader\";\n\nimport Verified from \"../assets/verified.svg\";\nimport Revoked from \"../assets/revoked.svg\";\nimport Expired from \"../assets/expired.svg\";\nimport \"../styles/certificate.scss\";\n\nconst Certificate = ({ ipfsHash, certkey }) => {\n\tconst { contract } = useContext(Web3Context);\n\n\tconst resource = fetchCertData(ipfsHash, certkey, contract);\n\n\tconst link = `https://certify-v1.netlify.app/verify/?ipfsHash=${ipfsHash}&certkey=${certkey}`;\n\n\treturn (\n\t\t<Suspense fallback={<PageLoader />}>\n\t\t\t<div className=\"certificate\">\n\t\t\t\t<h1>Ӂ Certificate Ӂ</h1>\n\t\t\t\t<br />\n\t\t\t\t<Suspense fallback={<ComponentLoader />}>\n\t\t\t\t\t<Fields resource={resource} />\n\n\t\t\t\t\t<Info resource={resource} link={link} />\n\t\t\t\t\t<br />\n\t\t\t\t\t<hr width=\"50%\" />\n\t\t\t\t\t<a className=\"foot-link\" href={link}>\n\t\t\t\t\t\t{link}\n\t\t\t\t\t</a>\n\t\t\t\t</Suspense>\n\t\t\t</div>\n\t\t</Suspense>\n\t);\n};\nconst Fields = ({ resource }) => {\n\tconst data = resource.read();\n\treturn (\n\t\t<div className=\"fields\">\n\t\t\t<span>\n\t\t\t\tThis certificate is presented to{\" \"}\n\t\t\t\t<span className=\"field\" id=\"name\">\n\t\t\t\t\t{data?.BeneficiaryName}\n\t\t\t\t</span>{\" \"}\n\t\t\t</span>\n\t\t\t<span>For</span>\n\t\t\t<span className=\"field\">{data?.CertificateDescription}</span>\n\t\t\t<span>By</span>\n\t\t\t<span className=\"field\">{data?.InstituteAuthorityName}</span>\n\t\t</div>\n\t);\n};\n\nconst statusData = {\n\tVerified: { svg: Verified, msg: \"Verified\" },\n\tRevoked: { svg: Revoked, msg: \"Validity Revoked By Owner\" },\n\tExpired: { svg: Expired, msg: \"Validity Expired\" },\n};\n\nconst Info = ({ resource, link }) => {\n\tconst data = resource.read();\n\tconst status =\n\t\tdata?.validtill === \"0\" || Date.now() < Number(data?.validtill) * 1000\n\t\t\t? \"Verified\"\n\t\t\t: data?.validtill === \"1\"\n\t\t\t? \"Revoked\"\n\t\t\t: \"Expired\";\n\tconsole.log(data);\n\n\treturn (\n\t\t<div className=\"info\">\n\t\t\t<div className=\"tx-info\">\n\t\t\t\t<h4>Additional Information</h4>\n\t\t\t\t<div className=\"cols\">\n\t\t\t\t\t<div className=\"col\">\n\t\t\t\t\t\t<span className=\"field\">\n\t\t\t\t\t\t\t<span className=\"label\">Expires on : </span>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{data?.validtill === \"0\"\n\t\t\t\t\t\t\t\t\t? \"No Expiry\"\n\t\t\t\t\t\t\t\t\t: new Date(\n\t\t\t\t\t\t\t\t\t\t\tNumber(data?.validtill) * 1000\n\t\t\t\t\t\t\t\t\t  ).toLocaleDateString()}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t<span className=\"field\">\n\t\t\t\t\t\t\t<span className=\"label\">Note : </span>\n\t\t\t\t\t\t\t<span> {data?.AdditionalNotes}</span>\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t<span className=\"field\">\n\t\t\t\t\t\t\t<span className=\"label\">Issuers Address : </span>\n\t\t\t\t\t\t\t<span>{data?.issuer}</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col\">\n\t\t\t\t\t\t<span className=\"field\">\n\t\t\t\t\t\t\t<span className=\"label\">Created On : </span>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{new Date(Number(data?.issuetime) * 1000).toLocaleDateString()}\n\t\t\t\t\t\t\t</span>{\" \"}\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t<span className=\"field\">\n\t\t\t\t\t\t\t<span className=\"label\">IPFS Hash : </span>\n\t\t\t\t\t\t\t<span>{data?.ipfs}</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<h4>Certificate Status</h4>\n\t\t\t\t<div className=\"status\">\n\t\t\t\t\t<img src={statusData[status].svg} alt=\"\" />\n\n\t\t\t\t\t<div className=\"label\">{statusData[status].msg}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<h4>Scan to share</h4>\n\t\t\t\t<div className=\"share\">\n\t\t\t\t\t<QRCode value={link} size={100} bgColor=\"#fdfaf7\" fgColor=\"#4c4c4c\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Certificate;\n"]},"metadata":{},"sourceType":"module"}